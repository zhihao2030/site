## 1. HTTP缓存种类
`HTTP缓存`常见的有两类：

-   `强缓存`：可以由这两个字段其中一个决定
    -   `expires`
    -   `cache-control(优先级更高)`
-   `协商缓存`：可以由这两对字段中的一对决定
    -   `Last-Modified，If-Modified-Since`
    -   `Etag，If-None-Match(优先级更高)`

**注：缓存是在后端设置请求头**

## 2. 强缓存
`强缓存`在时效时间内，不走服务端，只走本地缓存

### 2.1 expires

```js
// 过期时间单位 毫秒 （ms）
const time = new Date(Date.now() + 30000
headers: {
"Express" : time
}
// 30s内都走资源走本地缓存，而不会重新请求

```

### 2.2 cache-control
`cache-control`跟`expires`效果差不多，只不过这两个字段设置的值不一样而已，前者设置的是`秒数`，后者设置的是`毫秒数`

```js
// 过期时间单位 秒 （s）

headers: {
"cache-control" : 'max-age=30'
}
// 30s内都走资源走本地缓存，而不会重新请求

```

## 3. 协商缓存
`强缓存`不同的是，`强缓存`是在时效时间内，不走服务端，只走本地缓存；而`协商缓存`是要走服务端的，如果请求某个资源，去请求服务端时，发现`命中缓存`则返回`304`，否则则返回所请求的资源

### 3.1 Last-Modified，If-Modified-Since
 Last-Modified： 初次请求资源，服务器端资源最后一次修改时间，服务器返回给浏览器存储
 
 If-Modified-Since： 非初次请求资源，该值为服务器端初期请求该资源返回的值
 
比较： If-Modified-Since发送到服务器端与该资源当前的修改时间进行对比，相同表示该资源没有更改，判断命中缓存，返回304，否则返回修改后的新资源
 
-   第一次请求资源时，服务端会把所请求的资源的`最后一次修改时间`当成响应头中`Last-Modified`的值发到浏览器并在浏览器存起来

-   第二次请求资源时，浏览器会把刚刚存储的时间当成请求头中`If-Modified-Since`的值，传到服务端，服务端拿到这个时间跟所请求的资源的最后修改时间进行比对

-   比对结果如果两个时间相同，则说明此资源没修改过，那就是`命中缓存`，那就返回`304`，如果不相同，则说明此资源修改过了，则`没命中缓存`，则返回修改过后的新资源

  
### 3.2  Etag，If-None-Match
`Etag，If-None-Match`跟`Last-Modified，If-Modified-Since`大体一样，区别在于：

-   后者是对比资源最后一次修改时间，来确定资源是否修改了
-   前者是对比资源内容，来确定资源是否修改（资源内容转hash值进行比较）


不使用强缓存
`'Cache-Control', 'no-cache')'`

合理利用`HTTP缓存`可以提高前端页面的性能